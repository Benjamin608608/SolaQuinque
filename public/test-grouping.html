<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>字母分組測試</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .group-item {
            margin: 10px 0;
            padding: 10px;
            background: #f5f5f5;
            border-radius: 3px;
        }
        .author-item {
            margin: 5px 0;
            padding: 5px;
            background: #fff;
            border-left: 3px solid #4CAF50;
        }
    </style>
</head>
<body>
    <h1>字母分組測試</h1>
    
    <div class="test-section">
        <h2>測試結果</h2>
        <div id="testResults"></div>
    </div>

    <script>
        // 測試數據
        const testAuthors = [
            "Abraham Kuyper (1837-1920)",
            "John Calvin (1509-1564)",
            "Martin Luther (1483-1546)",
            "Augustine, Saint (354-430)",
            "Thomas Aquinas, Saint (1225?-1274)",
            "Jonathan Edwards (1703-1758)",
            "Charles Haddon Spurgeon (1834-1892)",
            "Watchman Nee (1903-1972)",
            "亞伯拉罕·凱波爾",
            "約翰·加爾文",
            "馬丁·路德",
            "聖奧古斯丁",
            "聖托馬斯·阿奎那",
            "約拿單·愛德華茲",
            "查爾斯·哈登·司布真",
            "倪柝聲"
        ];

        // 模擬作者對照表
        const authorTranslations = {
            "Abraham Kuyper (1837-1920)": "亞伯拉罕·凱波爾",
            "John Calvin (1509-1564)": "約翰·加爾文",
            "Martin Luther (1483-1546)": "馬丁·路德",
            "Augustine, Saint (354-430)": "聖奧古斯丁",
            "Thomas Aquinas, Saint (1225?-1274)": "聖托馬斯·阿奎那",
            "Jonathan Edwards (1703-1758)": "約拿單·愛德華茲",
            "Charles Haddon Spurgeon (1834-1892)": "查爾斯·哈登·司布真",
            "Watchman Nee (1903-1972)": "倪柝聲"
        };

        // 獲取作者名稱（模擬前端邏輯）
        function getAuthorName(englishName) {
            if (authorTranslations[englishName]) {
                return authorTranslations[englishName];
            }
            return englishName;
        }

        // 測試分組邏輯
        function testGrouping() {
            const groupedData = {};
            
            testAuthors.forEach(author => {
                const displayName = getAuthorName(author);
                // 使用英文原名的首字母進行分組
                const firstLetter = author.charAt(0).toUpperCase();
                if (!groupedData[firstLetter]) {
                    groupedData[firstLetter] = [];
                }
                groupedData[firstLetter].push({
                    author: author,
                    displayName: displayName
                });
            });

            // 顯示結果
            const testResults = document.getElementById('testResults');
            let html = '';
            
            Object.keys(groupedData).sort().forEach(letter => {
                html += `
                    <div class="group-item">
                        <h3>字母 ${letter} (${groupedData[letter].length} 位作者)</h3>
                        ${groupedData[letter].map(item => `
                            <div class="author-item">
                                <strong>英文原名:</strong> ${item.author}<br>
                                <strong>顯示名稱:</strong> ${item.displayName}
                            </div>
                        `).join('')}
                    </div>
                `;
            });
            
            testResults.innerHTML = html;
        }

        // 頁面載入時執行測試
        document.addEventListener('DOMContentLoaded', testGrouping);
    </script>
</body>
</html> 